<div class="container align-items-center w-100">
  <div class="row mt-4">
    <form class="mb-4 w-100" [formGroup]="searchForm" (ngSubmit)="search()">
      <div class="w-50 mx-auto">
      <mat-form-field class="w-100">
        <input matInput placeholder="Search for" formControlName="search">
      </mat-form-field>
        </div>
    </form>
    <mat-card class="w-100 mb-4" *ngFor="let result of results;">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title>{{result.subject}}</mat-card-title>
        <mat-card-subtitle>Document Type : {{result.url.split('.').slice(-1)[0]}}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              View document text
            </mat-panel-title>
          </mat-expansion-panel-header>
          {{result.content}}
        </mat-expansion-panel>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="downloadFile(result.url)">
          {{buttonText(result.metadata_storage_content_type)}}</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
